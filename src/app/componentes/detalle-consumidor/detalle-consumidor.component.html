<!-- Barra superior de redes sociales (alineada a la derecha) -->
<div class="top-bar-sevillanea" id="topBar">
  <div class="topbar-content">
    <div class="social-icons">
      <a href="https://www.instagram.com/" target="_blank">
        <img src="assets/imagenes/instagram.png" alt="Instagram" class="icono-red" />
        <span>Instagram</span>
      </a>
      <a href="https://www.tiktok.com/es-419/" target="_blank">
        <img src="assets/imagenes/tiktok.png" alt="TikTok" class="icono-red" />
        <span>TikTok</span>
      </a>
      <a href="https://www.youtube.com/" target="_blank">
        <img src="assets/imagenes/youtube.png" alt="YouTube" class="icono-red" />
        <span>YouTube</span>
      </a>
    </div>
  </div>
</div>

<!--  Men√∫ blanco que sube y reemplaza al negro -->
<nav class="navbar" id="navbar">
  <div class="navbar-container">

    <a routerLink="/" class="navbar-logo">
      <img src="assets/imagenes/sevillanea.png" alt="Logotipo Sevillanea" class="logo-izquierda" />
    </a>

    <!-- MENU HAMBURGUESA(RESPONSIVE EN VERSI√ìN M√ìVIL PARA QUE NO SE DESAJUSTE LAS OPCIONES DEL MEN√ö) -->
    <div class="hamburger" (click)="toggleMenu()" [class.activo]="menuAbierto">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <ul class="navbar-menu" [class.abierto]="menuAbierto">
      <li><a routerLink="/">Inicio</a></li>
      <li><a routerLink="/ofertantes">Actividades</a></li>
      <li><a routerLink="/consumidores">Comunidad</a></li>
      <li><a routerLink="/contacto">Contacto</a></li>

      <!-- Login / Perfil -->
      <li [class.hidden]="isLoggedIn"><a routerLink="/login">Iniciar sesi√≥n</a></li>
      <li [class.hidden]="!isLoggedIn">
        <a [routerLink]="['/perfil', usuario?.id]">Tu perfil</a>
      </li>
      <li [class.hidden]="isLoggedIn"><a routerLink="/registro">Reg√≠strate</a></li>
    </ul>

  </div>
</nav>

<!-- Secci√≥n cabecera "Actividad Solicitada" -->
<section class="ofertantes-header">
  <div class="overlay"></div>
  <div class="ofertantes-header-content">
    <h1>INFORMACI√ìN DE LA ACTIVIDAD SOLICITADA</h1>
  </div>
</section>

<!-- Informaci√≥n de la actividad solicitada-->

<div class="container mt-4">
  <div class="detalle-card">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">

      <!-- Nombre -->
      <div class="mb-3">
        <label>Nombre:</label>
        <input type="text" class="form-control" formControlName="nombre" required />
        <div
          [hidden]="!(form.controls['nombre'].invalid && (form.controls['nombre'].dirty || form.controls['nombre'].touched))">
          <div [hidden]="!form.controls['nombre'].errors?.['required']" class="alert alert-danger">El nombre es
            obligatorio</div>
          <div [hidden]="!form.controls['nombre'].errors?.['minlength']" class="alert alert-danger">Debe tener al menos
            2 caracteres</div>
        </div>
      </div>

      <!-- Apellidos -->
      <div class="mb-3">
        <label>Apellidos:</label>
        <input type="text" class="form-control" formControlName="apellidos" required />
        <div
          [hidden]="!(form.controls['apellidos'].invalid && (form.controls['apellidos'].dirty || form.controls['apellidos'].touched))">
          <div [hidden]="!form.controls['apellidos'].errors?.['required']" class="alert alert-danger">Los apellidos son
            obligatorios</div>
          <div [hidden]="!form.controls['apellidos'].errors?.['minlength']" class="alert alert-danger">Debe tener al
            menos 2 caracteres</div>
        </div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label>Email:</label>
        <input type="email" class="form-control" formControlName="email" required />
        <div
          [hidden]="!(form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched))">
          <div [hidden]="!form.controls['email'].errors?.['required']" class="alert alert-danger">El email es
            obligatorio</div>
          <div [hidden]="!form.controls['email'].errors?.['email']" class="alert alert-danger">Introduce un email v√°lido
          </div>
        </div>
      </div>

      <!-- Tel√©fono -->
      <div class="mb-3">
        <label>Tel√©fono:</label>
        <input type="text" class="form-control" formControlName="telefono" required />
        <div
          [hidden]="!(form.controls['telefono'].invalid && (form.controls['telefono'].dirty || form.controls['telefono'].touched))">
          <div [hidden]="!form.controls['telefono'].errors?.['required']" class="alert alert-danger">El tel√©fono es
            obligatorio</div>
          <div [hidden]="!form.controls['telefono'].errors?.['pattern']" class="alert alert-danger">Debe tener 9 d√≠gitos
          </div>
        </div>
      </div>

      <!-- Direcci√≥n -->
      <div class="mb-3">
        <label>Direcci√≥n:</label>
        <input type="text" class="form-control" formControlName="direccion" required />
        <div
          [hidden]="!(form.controls['direccion'].invalid && (form.controls['direccion'].dirty || form.controls['direccion'].touched))">
          <div [hidden]="!form.controls['direccion'].errors?.['required']" class="alert alert-danger">La direcci√≥n es
            obligatoria</div>
        </div>
      </div>

      <!-- Necesidades -->
      <div class="mb-3">
        <label>Necesidades:</label>
        <input type="text" class="form-control" formControlName="descripcion_necesidades" required />
        <div
          [hidden]="!(form.controls['descripcion_necesidades'].invalid && (form.controls['descripcion_necesidades'].dirty || form.controls['descripcion_necesidades'].touched))">
          <div [hidden]="!form.controls['descripcion_necesidades'].errors?.['required']" class="alert alert-danger">Las
            necesidades son obligatorias</div>
          <div [hidden]="!form.controls['descripcion_necesidades'].errors?.['minlength']" class="alert alert-danger">
            Debe tener al menos 5 caracteres</div>
        </div>
      </div>

      <!-- Presupuesto -->
      <div class="mb-3">
        <label>Presupuesto m√°ximo (‚Ç¨):</label>
        <input type="number" class="form-control" formControlName="presupuesto_maximo" required />
        <div
          [hidden]="!(form.controls['presupuesto_maximo'].invalid && (form.controls['presupuesto_maximo'].dirty || form.controls['presupuesto_maximo'].touched))">
          <div [hidden]="!form.controls['presupuesto_maximo'].errors?.['required']" class="alert alert-danger">El
            presupuesto es obligatorio</div>
          <div [hidden]="!form.controls['presupuesto_maximo'].errors?.['min']" class="alert alert-danger">Debe ser mayor
            que 0</div>
        </div>
      </div>

      <!-- Actividad -->
      <div class="mb-3">
        <label>Actividad deseada:</label>
        <select class="form-control" formControlName="actividad_id" required>
          @for(a of listaOfertantes; track $index) {
          <option [value]="a.id">
            {{ a.actividad }} - {{ a.nombre }} {{ a.apellidos }}
          </option>
          }
        </select>
        <div
          [hidden]="!(form.controls['actividad_id'].invalid && (form.controls['actividad_id'].dirty || form.controls['actividad_id'].touched))">
          <div [hidden]="!form.controls['actividad_id'].errors?.['required']" class="alert alert-danger">Debe
            seleccionar una actividad</div>
        </div>
      </div>

      <!-- Botones -->
      <div class="row mt-4">
        <button class="btn btn-primary col-3" type="submit" [disabled]="!form.valid">
          {{textoBoton}}
        </button>
        <button type="button" class="btn btn-secondary col-3 offset-1" (click)="scrollTop()" (click)="volver()">
          Volver
        </button>
      </div>
    </form>

    <!-- Mensaje de √©xito -->
    <div class="alert alert-success mt-3" [hidden]="!mensajeExito">
      {{mensajeExito}}
    </div>
  </div>
</div>

<!-- SECCI√ìN FINAL SEVILLANEA -->


<section class="bloque-final-sevillanea">
  <div class="bloque-container">
    <div class="bloque-column">
      <img src="assets/imagenes/sevillanea.png" alt="Logotipo Sevillanea" class="logo-final" />
      <p>Descubre, organiza y comparte experiencias √∫nicas en Sevilla. No solo puedes disfrutar de las mejores
        actividades de ocio, sino
        tambi√©n convertirte en el organizador: publica tus propias propuestas y haz que otros usuarios vivan la ciudad a
        trav√©s de tu arte, tu pasi√≥n y tu visi√≥n.</p>
    </div>


    <div class="bloque-column">
      <h3>Gu√≠a de...</h3>
      <ul>
        <li><a routerLink="/ofertantes" (click)="scrollTop()">Ofertas de actividades</a></li>
        <li><a routerLink="/consumidores" (click)="scrollTop()">Demandas de actividades</a></li>
      </ul>
    </div>


    <div class="bloque-column">
      <h3>Informaci√≥n</h3>
      <ul>
        <li><a routerLink="/quienesSomos" (click)="scrollTop()">Qui√©nes Somos</a></li>
        <li><a routerLink="/privacidad" (click)="scrollTop()">Pol√≠tica de privacidad</a></li>
        <li><a routerLink="/cookies" (click)="scrollTop()">Pol√≠tica de cookies</a></li>
        <li><a routerLink="/contacto" (click)="scrollTop()">Contacto</a></li>
      </ul>
    </div>

    <div class="bloque-column">
      <h3>¬øHablamos?</h3>
      <p>üìû 954 00 00 00</p>
      <p>üìß infosevillanea.com</p>
    </div>
  </div>
</section>


<!-- FOOTER FINAL DE LA P√ÅGINA-->
<footer class="py-4 bg-dark text-light text-center">
  <div class="container">
    <p class="mb-1">¬© 2025 <strong>Sevillanea</strong> ¬∑ Vive Sevilla con arte</p>
  </div>
</footer>